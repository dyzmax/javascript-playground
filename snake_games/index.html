<html><body onLoad="onLoad();"> 
    <div id="container"/>

<script type="text/javascript" src="square_grid.js"></script>
<script type="text/javascript">

var grid;
var currentX = 0;
var currentY = 0;

function onLoad() {
  initializeGrid();
  setEventListeners();
}

function initializeGrid() {
  var container = document.getElementById("container");
  grid = new SquareGrid(7, 7, 40, 3, 1, container, "black", "red");
  grid.turnOn(currentX, currentY);
}

var keys = {37: "left", 38: "up", 39: "right", 40: "down"};

function setEventListeners() {
  var onKeyDown = function(e) {
    e = e || window.event;

    grid.turnOff(currentX, currentY);
    if (e.keyCode == '37') {
      currentX = currentX-1;
    } else if (e.keyCode == '38') {
      currentY = currentY-1;
    } else if (e.keyCode == '39') {
      currentX = currentX+1;
    } else if (e.keyCode == '40') {
      currentY = currentY+1;
    }
    grid.turnOn(currentX, currentY);
  }

  if (window.addEventListener) {
    window.addEventListener("keydown", onKeyDown, true);
  } else if (window.attachEvent) { // IE
    alert(window);
    window.attachEvent("onkeydown", onKeyDown);
  } else {
    document.addEventListener("keydown", onKeyDown, true);
  }

}


</script>
</body></html>
